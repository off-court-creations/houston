{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://git-native-ticketing.example/schema/backlog.schema.json",
  "title": "Backlog Lists",
  "oneOf": [
    {
      "type": "object",
      "required": [
        "ordered"
      ],
      "properties": {
        "ordered": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/backlogTicketId"
          }
        },
        "notes": {
          "type": "string"
        },
        "generated_by": {
          "type": "string",
          "pattern": "^stardate@[^\\s]+$"
        }
      },
      "additionalProperties": false
    },
    {
      "type": "object",
      "required": [
        "candidates"
      ],
      "properties": {
        "candidates": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/backlogTicketId"
          }
        },
        "notes": {
          "type": "string"
        },
        "generated_by": {
          "type": "string",
          "pattern": "^stardate@[^\\s]+$"
        }
      },
      "additionalProperties": false
    }
  ],
  "$defs": {
    "backlogTicketId": {
      "type": "string",
      "pattern": "^(ST|SB|BG)-[A-Za-z0-9]{10,}$"
    }
  }
}
